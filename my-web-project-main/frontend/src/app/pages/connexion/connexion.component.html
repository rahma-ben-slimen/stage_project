<div class="d1">
  <div class="mar">
    @if (errorMessage) {
      <div class="error-message">
        {{ errorMessage }}
      </div>
    }
    
    @if (successMessage) {
      <div class="success-message">
        {{ successMessage }}
      </div>
    }

    <!-- LOGIN FORM -->
    <div class="form_box" [class.active]="currentForm === 'login'" id="login_form">
      <h1 class="d1_h1">Connexion</h1>
      <form (ngSubmit)="onLogin()" #loginForm="ngForm">
        <div>
          <label for="email">Adresse E-mail</label>
          <div class="intp">
            <input
              type="email"
              name="email"
              [(ngModel)]="loginData.email"
              placeholder="exemple@email.com"
              required
            />
          </div>
        </div>
        <div>
          <label for="password">Mot de passe</label>
          <div class="intp">
            <input
              type="password"
              name="password"
              [(ngModel)]="loginData.password"
              placeholder="Votre mot de passe"
              required
            />
          </div>
        </div>
        <button type="submit">Se connecter</button>
      </form>
      <p class="p_d1" (click)="showRegister()">
        Vous n'avez pas de compte ? <span class="link-text">S'inscrire</span>
      </p>
    </div>

    <!-- REGISTER FORM - SANS CHOIX DE RÔLE -->
    <div class="form_box" [class.active]="currentForm === 'register'" id="register_form">
      <h1 class="d1_h1">Inscription</h1>
      <form (ngSubmit)="onRegister()" #registerForm="ngForm">
        <!-- Prénom -->
        <label for="prenom">Prénom *</label>
        <div class="intp">
          <input
            type="text"
            name="prenom"
            id="prenom"
            [(ngModel)]="registerData.prenom"
            required
            placeholder="Votre prénom"
          />
        </div>
        
        <!-- Nom -->
        <label for="nom">Nom</label>
        <div class="intp">
          <input
            type="text"
            name="nom"
            id="nom"
            [(ngModel)]="registerData.nom"
            placeholder="Votre nom de famille"
          />
        </div>
        
        <!-- Téléphone -->
        <label for="tel">Téléphone</label>
        <div class="intp">
          <input
            type="tel"
            name="telephone"
            id="tel"
            [(ngModel)]="registerData.telephone"
            placeholder="Ex: 12345678"
          />
        </div>
        
        <!-- Email -->
        <label for="emailReg">Adresse E-mail *</label>
        <div class="intp">
          <input 
            type="email" 
            name="email" 
            id="emailReg"
            [(ngModel)]="registerData.email"
            placeholder="exemple@email.com" 
            required 
          />
        </div>
        
        <!-- Mot de passe -->
        <label for="passwordReg">Mot de passe *</label>
        <div class="intp">
          <input
            type="password"
            name="password"
            id="passwordReg"
            [(ngModel)]="registerData.password"
            placeholder="Créez un mot de passe"
            required
          />
        </div>
        
        <!-- SUPPRIMÉ: Choix de rôle -->
        
        <button type="submit">S'inscrire</button>
      </form>

      <p class="p_d1" (click)="showLogin()">
        Vous avez déjà un compte ? <span class="link-text">Se connecter</span>
      </p>
    </div>
  </div>
</div>